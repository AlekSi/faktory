# Compile on Linux with only these 28 simple steps!!!
#

cd ~
wget https://storage.googleapis.com/golang/go1.9.linux-amd64.tar.gz
tar xzf go1.9.linux-amd64.tar.gz
mv go go1.9
export GOPATH=~

mkdir src
cd src

git clone https://github.com/facebook/rocksdb
cd rocksdb
git checkout v5.7.2
# this can take a LONG time
make static_lib
cd ..

export ROCKSDB_HOME=~/src/rocksdb
export CGO_CFLAGS="-I${ROCKSDB_HOME}/include"
#export CGO_LDFLAGS="-L${ROCKSDB_HOME} -lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy -llz4 -lzstd"
export CGO_LDFLAGS="-L${ROCKSDB_HOME} -lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy"
go get github.com/mperham/gorocksdb
go get github.com/benbjohnson/ego/cmd/ego
go get github.com/sirupsen/logrus

mkdir -p github.com/mperham
cd github.com/mperham
git clone git@github.com:mperham/faktory.git
cd faktory
make build
